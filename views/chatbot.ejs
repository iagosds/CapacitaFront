<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            Chatbot
        </div>
    
        <div class="chat-history" id="chatHistory">
            <!-- As mensagens serão adicionadas aqui dinamicamente -->
        </div>
    
        <div class="chat-input">
            <textarea id="userInput" placeholder="Digite sua mensagem..."></textarea>
            <button id="sendMessage" onclick="sendMessage()">Enviar</button>
            <label class="media-upload" for="fileInput">
                <input type="file" id="fileInput" style="display: none;" />
                <span><img class="btn-add-midia" src="../imagens/images.png" alt="add media button"></span>
            </label>
        </div>
    </div>
    

    <script>
        const chatHistory = document.getElementById('chatHistory');
        
        // Função para enviar mensagens
        function sendMessage() {
    const messageText = document.getElementById('userInput').value;
    const chatHistory = document.getElementById('chatHistory');

    if (messageText.trim() !== '') {
        // Adiciona a mensagem do usuário à direita
        const userMessage = document.createElement('div');
        userMessage.className = 'message user-message';
        userMessage.innerText = messageText;
        chatHistory.appendChild(userMessage);

        // Limpa a caixa de entrada
        document.getElementById('userInput').value = '';

        // Simula uma resposta automática do chatbot à esquerda
        setTimeout(() => {
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot-message';
            botMessage.innerText = 'Resposta automática do chatbot';
            chatHistory.appendChild(botMessage);

            // Scroll automático para a mensagem mais recente
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }, 1000);

        // Scroll automático para a mensagem mais recente
        chatHistory.scrollTop = chatHistory.scrollHeight;
    }
}

// Lidar com upload de arquivo (exibição de nome do arquivo no chat)
document.getElementById('fileInput').addEventListener('change', function() {
    const file = this.files[0];
    const chatHistory = document.getElementById('chatHistory');

    if (file) {
        const fileMessage = document.createElement('div');
        fileMessage.className = 'message file-message';
        fileMessage.innerText = `Arquivo enviado: ${file.name}`;
        chatHistory.appendChild(fileMessage);

        // Scroll automático para a mensagem mais recente
        chatHistory.scrollTop = chatHistory.scrollHeight;
    }
});

    </script>
</body>
</html>

